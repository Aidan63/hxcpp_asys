package filesystem;

import utest.Test;

abstract class FileOpenTests extends Test {
    final emptyFileName : String;
    final dummyFileName : String;
    final dummyFileData : String;
    final emptyDirName : String;
    final nonExistingFile : String;
    final linkName : String;

    public function new() {
        super();

        emptyFileName   = "empty.txt";
        dummyFileName   = "dummy.txt";
        dummyFileData   = "Hello, World!";
        emptyDirName    = "empty";
        nonExistingFile = "does_not_exist.txt";
        linkName        = "mylink.lnk";
    }

    function setup() {
        sys.io.File.saveContent(emptyFileName, "");
        sys.io.File.saveContent(dummyFileName, dummyFileData);
        sys.FileSystem.createDirectory(emptyDirName);

        if (sys.FileSystem.exists(nonExistingFile)) {
            sys.FileSystem.deleteFile(nonExistingFile);
        }

        if (sys.FileSystem.exists(linkName)) {
            sys.FileSystem.deleteFile(linkName);
        }
    }
}